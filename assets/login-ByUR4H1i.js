import{d as C,r as i,a as f,t as U,o as c,c as N,w as t,u as P,b as u,e as q,f as o,g as _,h as b,i as n,_ as I}from"./index-B04ERyIT.js";const E={class:"card-header"},S={key:0,class:"login"},T={key:1,class:"register"},$=C({__name:"login",setup(j){const v=i({ruleForm:{username:"admin",password:"123456"}}),s=i({username:"",password:"",resPassword:""}),m=f(!0);let k=P(),{ruleForm:a}=U(v),g=f(),x=f();const y=i({username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}),F=()=>{m.value=!0},B=async()=>{g.value.validate().then(()=>{localStorage.setItem("token","base_token"),k.push("/home")}).catch(w=>{console.log(w)})};return(w,e)=>{const p=u("el-button"),d=u("el-input"),r=u("el-form-item"),V=u("el-form"),R=u("el-card");return c(),N(R,{class:"box-card"},{header:t(()=>[q("div",E,[o(p,{type:m.value?"primary":"",text:"",onClick:F},{default:t(()=>e[6]||(e[6]=[_("登录")])),_:1},8,["type"])])]),default:t(()=>[m.value?(c(),b("div",S,[o(V,{model:n(a),"status-icon":"",rules:y,ref_key:"ruleFormRef",ref:g,"label-position":"left",class:"loginForm"},{default:t(()=>[o(r,{prop:"username"},{default:t(()=>[o(d,{type:"text",modelValue:n(a).username,"onUpdate:modelValue":e[0]||(e[0]=l=>n(a).username=l),autocomplete:"off",placeholder:"账号"},null,8,["modelValue"])]),_:1}),o(r,{prop:"password"},{default:t(()=>[o(d,{type:"password",modelValue:n(a).password,"onUpdate:modelValue":e[1]||(e[1]=l=>n(a).password=l),autocomplete:"off",placeholder:"密码"},null,8,["modelValue"])]),_:1}),o(r,{class:"btn-primary"},{default:t(()=>[o(p,{type:"primary",onClick:e[2]||(e[2]=l=>B())},{default:t(()=>e[7]||(e[7]=[_("登录")])),_:1})]),_:1})]),_:1},8,["model","rules"])])):(c(),b("div",T,[o(V,{model:s,"status-icon":"",rules:y,ref_key:"registerFormRef",ref:x,"label-position":"left",class:"loginForm"},{default:t(()=>[o(r,{prop:"username"},{default:t(()=>[o(d,{type:"text",modelValue:s.username,"onUpdate:modelValue":e[3]||(e[3]=l=>s.username=l),autocomplete:"off",placeholder:"账号"},null,8,["modelValue"])]),_:1}),o(r,{prop:"password"},{default:t(()=>[o(d,{type:"password",modelValue:s.password,"onUpdate:modelValue":e[4]||(e[4]=l=>s.password=l),autocomplete:"off",placeholder:"密码"},null,8,["modelValue"])]),_:1}),o(r,{prop:"password"},{default:t(()=>[o(d,{type:"password",modelValue:s.resPassword,"onUpdate:modelValue":e[5]||(e[5]=l=>s.resPassword=l),autocomplete:"off",placeholder:"确认密码"},null,8,["modelValue"])]),_:1}),o(r,{class:"btn-primary"},{default:t(()=>[o(p,{type:"primary"},{default:t(()=>e[8]||(e[8]=[_("注册")])),_:1})]),_:1})]),_:1},8,["model","rules"])]))]),_:1})}}}),A=I($,[["__scopeId","data-v-c2e4bd99"]]);export{A as default};
